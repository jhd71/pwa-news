<!DOCTYPE html>
<html lang="fr" data-theme="rouge">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake - Actu & M√©dia</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/snake-game.css">
    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'rouge';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
</head>
<body>
    <!-- Header -->
    <header class="game-header">
        <a href="/" class="back-button">
            <span class="material-icons">arrow_back</span>
        </a>
        <h1>üêç Snake</h1>
        <div class="theme-toggle" id="themeToggle">
            <span class="material-icons">palette</span>
        </div>
    </header>

    <!-- Game Container -->
    <div class="game-container">
        <!-- Stats Panel -->
        <div class="stats-panel">
            <div class="stat-item">
                <span class="material-icons">stars</span>
                <div class="stat-content">
                    <span class="stat-label">Score</span>
                    <span class="stat-value" id="currentScore">0</span>
                </div>
            </div>
            <div class="stat-item">
                <span class="material-icons">emoji_events</span>
                <div class="stat-content">
                    <span class="stat-label">Record</span>
                    <span class="stat-value" id="bestScore">0</span>
                </div>
            </div>
            <div class="stat-item">
                <span class="material-icons">speed</span>
                <div class="stat-content">
                    <span class="stat-label">Vitesse</span>
                    <span class="stat-value" id="speed">1x</span>
                </div>
            </div>
        </div>

        <!-- Speed Selection -->
        <div class="speed-panel">
            <button class="speed-btn" data-speed="slow">
                <span class="material-icons">trending_down</span>
                Lent
            </button>
            <button class="speed-btn active" data-speed="normal">
                <span class="material-icons">trending_flat</span>
                Normal
            </button>
            <button class="speed-btn" data-speed="fast">
                <span class="material-icons">trending_up</span>
                Rapide
            </button>
        </div>

        <!-- Game Info -->
        <div class="game-info" id="gameInfo">
            Appuyez sur Espace ou touchez l'√©cran pour commencer
        </div>

        <!-- Game Canvas -->
        <div class="game-wrapper">
            <canvas id="gameCanvas" width="400" height="400"></canvas>
            <div class="game-overlay" id="gameOverlay">
                <div class="overlay-content">
                    <span class="material-icons">play_circle</span>
                    <p>Touchez pour commencer</p>
                </div>
            </div>
        </div>

        <!-- Mobile Controls -->
        <div class="mobile-controls" id="mobileControls">
            <div class="control-row">
                <button class="control-btn" data-direction="up">
                    <span class="material-icons">arrow_upward</span>
                </button>
            </div>
            <div class="control-row">
                <button class="control-btn" data-direction="left">
                    <span class="material-icons">arrow_back</span>
                </button>
                <button class="control-btn" data-direction="down">
                    <span class="material-icons">arrow_downward</span>
                </button>
                <button class="control-btn" data-direction="right">
                    <span class="material-icons">arrow_forward</span>
                </button>
            </div>
        </div>

        <!-- Desktop Instructions -->
        <div class="instructions">
            <span class="material-icons">keyboard</span>
            Utilisez les fl√®ches du clavier pour jouer
        </div>
    </div>

    <!-- Modal Game Over -->
    <div class="modal" id="gameOverModal">
        <div class="modal-content">
            <div class="game-over-animation">
                <span class="material-icons">error</span>
            </div>
            <h2>Game Over !</h2>
            <p id="gameOverMessage">Le serpent s'est mordu la queue</p>
            <div class="final-stats">
                <div class="final-stat">
                    <span class="material-icons">stars</span>
                    <div>
                        <div class="final-stat-label">Score final</div>
                        <div class="final-stat-value" id="finalScore">0</div>
                    </div>
                </div>
                <div class="final-stat">
                    <span class="material-icons">emoji_events</span>
                    <div>
                        <div class="final-stat-label">Record</div>
                        <div class="final-stat-value" id="modalBestScore">0</div>
                    </div>
                </div>
            </div>

            <!-- Speed selection in modal -->
            <div class="modal-speed">
                <p>Choisir la vitesse :</p>
                <div class="modal-speed-btns">
                    <button class="modal-speed-btn" data-speed="slow">
                        <span class="material-icons">trending_down</span>
                        Lent
                    </button>
                    <button class="modal-speed-btn" data-speed="normal">
                        <span class="material-icons">trending_flat</span>
                        Normal
                    </button>
                    <button class="modal-speed-btn" data-speed="fast">
                        <span class="material-icons">trending_up</span>
                        Rapide
                    </button>
                </div>
            </div>

            <button class="modal-btn" id="playAgainBtn">
                <span class="material-icons">replay</span>
                Rejouer
            </button>
            <button class="modal-btn secondary" id="closeModalBtn">
                Retour √† l'accueil
            </button>
        </div>
    </div>

    <script src="js/snake-game.js"></script>
</body>
</html>