/* ios-specific.css - Proposition de correction */
:root {
  --safe-area-top: env(safe-area-inset-top, 0px);
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-left: env(safe-area-inset-left, 0px);
  --safe-area-right: env(safe-area-inset-right, 0px);

  /* Variables pour gérer les hauteurs et espacements de l'en-tête */
  --header-icon-size: 40px; /* Taille des boutons icônes circulaires */
  --header-icon-margin-lr: 15px; /* Marge gauche/droite pour les icônes aux extrémités */
  --header-vertical-spacing: 10px; /* Espacement vertical entre les rangées de l'en-tête */

  --logo-top-offset: 10px;
  --logo-height: 50px; /* Hauteur du logo/bandeau "Infos en direct" initial */

  /* Calcul des positions verticales des rangées */
  --logo-row-top: calc(var(--safe-area-top) + var(--logo-top-offset));
  
  --menu-settings-row-top: calc(var(--logo-row-top) + var(--logo-height) + var(--header-vertical-spacing));
  
  --widgets-row-top: calc(var(--menu-settings-row-top) + var(--header-icon-size) + var(--header-vertical-spacing));
  
  /* Marge totale nécessaire pour le contenu principal en dessous de l'en-tête fixé */
  --main-content-margin-top: calc(var(--widgets-row-top) + var(--header-icon-size) + var(--header-vertical-spacing));
}

/* Structure de base */
body {
  padding-top: var(--safe-area-top) !important; /* Déjà présent, mais var(--safe-area-top) est géré par les éléments fixed */
}

/* 1. Logo du site (ou l'élément qui doit être tout en haut et centré) */
/* Ce CSS positionne le logo principal du site tout en haut, centré. */
/* Si "Infos en direct" était votre logo, et qu'il doit rester un bandeau, ajustez la hauteur. */
.site-logo, .logo-container, .site-title {
  position: fixed !important;
  top: var(--logo-row-top) !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 1001 !important;
  height: var(--logo-height) !important;
  width: auto !important; /* Ou une largeur fixe si nécessaire */
  margin: 0 !important;
  /* Ajoutez ici le style pour que le logo ressemble au bandeau "Infos en direct" si c'est un texte/image de logo */
  /* Exemple : background-color: #D32F2F; color: white; padding: 10px 20px; border-radius: 25px; */
}

/* 2. Boutons Menu et Paramètres */
/* Positionnés SOUS le logo, et AU-DESSUS de la rangée Météo / Infos en direct / Liens */
.menu-button, .hamburger-menu {
  position: fixed !important;
  top: var(--menu-settings-row-top) !important;
  left: var(--header-icon-margin-lr) !important;
  z-index: 1010 !important;
  width: var(--header-icon-size) !important;
  height: var(--header-icon-size) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important;
  /* La couleur de fond est gérée par les thèmes plus bas */
}

.settings-button, .gear-icon {
  position: fixed !important;
  top: var(--menu-settings-row-top) !important;
  right: var(--header-icon-margin-lr) !important;
  z-index: 1010 !important;
  width: var(--header-icon-size) !important;
  height: var(--header-icon-size) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important;
  /* La couleur de fond est gérée par les thèmes plus bas */
}

/* 3. Widgets Météo, Bouton "Infos en direct" (déplacé), et Liens rapides */
/* Ces éléments sont SOUS les boutons Menu/Paramètres */
/* Assurez-vous d'avoir les bons sélecteurs CSS pour ces éléments */

#weather-widget { /* Remplacez par le sélecteur réel du widget météo */
  position: fixed !important;
  top: var(--widgets-row-top) !important;
  left: var(--header-icon-margin-lr) !important;
  z-index: 1005 !important;
  width: var(--header-icon-size) !important;
  height: var(--header-icon-size) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important; /* Si c'est un bouton circulaire */
  /* background-color: rgba(200, 200, 200, 0.8); Adaptez le style */
}

/* C'est le bouton "Infos en direct" qui était initialement en haut */
#infos-direct-button { /* Remplacez par le sélecteur réel du bouton "Infos en direct" */
  position: fixed !important;
  top: var(--widgets-row-top) !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  z-index: 1005 !important;
  height: var(--header-icon-size) !important; /* Ou une hauteur spécifique pour ce bouton */
  padding: 0 20px !important; /* Pour un style "pill" */
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  background-color: #D32F2F !important; /* Rouge, comme sur l'image */
  color: white !important;
  border-radius: 25px !important; /* Pour un style "pill" */
  font-weight: bold;
  /* box-shadow: 0 2px 5px rgba(0,0,0,0.2); */
}

#quick-links-widget { /* Remplacez par le sélecteur réel du widget liens rapides */
  position: fixed !important;
  top: var(--widgets-row-top) !important;
  right: var(--header-icon-margin-lr) !important;
  z-index: 1005 !important;
  width: var(--header-icon-size) !important;
  height: var(--header-icon-size) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 50% !important; /* Si c'est un bouton circulaire */
  /* background-color: rgba(200, 200, 200, 0.8); Adaptez le style */
}


/* 4. Ajuster le premier séparateur et le contenu principal */
.separator:first-of-type {
  margin-top: var(--main-content-margin-top) !important;
}

#tileContainer, .main-content, .tile-container {
  /* margin-top: 15px !important; /* Cette marge s'ajoute à celle du séparateur, peut-être la réduire ou l'enlever */
  padding-top: 15px !important; /* Utilisez padding-top si le séparateur est à l'intérieur */
  padding-bottom: calc(var(--safe-area-bottom) + 80px) !important;
}

/* 5. Corriger la position de la barre d'infos en bas (inchangé) */
.news-ticker, .bottom-bar, .ticker {
  position: fixed !important;
  bottom: calc(var(--safe-area-bottom) + var(--bottom-nav-height) + 5px) !important;
  z-index: 998 !important;
}

/* 6. Navigation du bas (inchangé) */
.bottom-nav {
  padding-bottom: calc(var(--safe-area-bottom) + 5px) !important;
  height: auto !important;
  z-index: 999 !important;
}

/* 7. Autres ajustements (inchangé) */
.chat-container {
  max-width: 100% !important;
  width: calc(100% - var(--safe-area-left) - var(--safe-area-right)) !important;
  height: calc(100vh - var(--safe-area-top) - var(--safe-area-bottom)) !important;
}

.tile, .card, .widget {
  margin-bottom: 10px !important;
}

/* 8. Adaptation aux thèmes pour les boutons de menu et paramètres */
/* Thème Clair / Défaut */
[data-theme="light"] .menu-button, 
[data-theme="light"] .hamburger-menu,
[data-theme="light"] .settings-button, 
[data-theme="light"] .gear-icon,
.menu-button, .hamburger-menu, /* Cas par défaut */
.settings-button, .gear-icon { /* Cas par défaut */
  background-color: rgba(126, 87, 194, 0.8) !important; /* Violet par défaut */
}

/* Thème Sombre */
[data-theme="dark"] .menu-button, 
[data-theme="dark"] .hamburger-menu,
[data-theme="dark"] .settings-button, 
[data-theme="dark"] .gear-icon,
html.dark-theme .menu-button, html.dark-theme .hamburger-menu,
html.dark-theme .settings-button, html.dark-theme .gear-icon,
body.dark-theme .menu-button, body.dark-theme .hamburger-menu,
body.dark-theme .settings-button, body.dark-theme .gear-icon {
  background-color: rgba(40, 53, 147, 0.8) !important; /* Bleu foncé */
}

/* Thème Rouge */
[data-theme="rouge"] .menu-button, 
[data-theme="rouge"] .hamburger-menu,
[data-theme="rouge"] .settings-button, 
[data-theme="rouge"] .gear-icon,
html.rouge-theme .menu-button, html.rouge-theme .hamburger-menu,
html.rouge-theme .settings-button, html.rouge-theme .gear-icon,
body.rouge-theme .menu-button, body.rouge-theme .hamburger-menu,
body.rouge-theme .settings-button, body.rouge-theme .gear-icon {
  background-color: rgba(163, 47, 42, 0.8) !important; /* Rouge légèrement plus foncé */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3) !important;
}

/* S'assurer que l'icône est bien visible dans tous les thèmes */
.menu-button .material-icons, 
.settings-button .material-icons,
#weather-widget i, /* Si vous utilisez des <i> pour les icônes Material Icons */
#quick-links-widget i {
  color: white !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}
/* Pour le bouton infos en direct, la couleur du texte est déjà gérée plus haut */


/* Effet de survol (inchangé) */
.menu-button:hover, .hamburger-menu:hover,
.settings-button:hover, .gear-icon:hover,
#weather-widget:hover, #quick-links-widget:hover, #infos-direct-button:hover {
  transform: scale(1.05) !important;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4) !important;
}


/* Ajustement pour le message "Installez Actu&Média" (inchangé) */
.install-banner, .pwa-banner, .app-install-prompt {
  margin-top: 0 !important;
  top: auto !important;
  bottom: calc(var(--safe-area-bottom) + var(--bottom-nav-height) + 65px) !important;
  position: fixed !important;
  z-index: 980 !important;
}